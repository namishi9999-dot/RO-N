# 💰 ローン計算アプリ

PC・iPhone両対応のWebアプリケーション。ローン計算と分析ができます。

## 🚀 クイックスタート

### PCで使用する場合

1. **`index.html` をブラウザで開く**
   - Windowsエクスプローラーで `index.html` をダブルクリック
   - またはブラウザにドラッグ&ドロップ

2. **すぐに使用可能**
   - ローン計算または分析タブを選択
   - 必要な情報を入力して計算

### iPhoneで使用する場合

#### 1️⃣ 最初の準備（初回のみ）

**アイコンを生成する：**

```
create-icons.html をブラウザで開く
↓
アイコンが自動的にダウンロードされる
↓
ダウンロードしたファイルを assets/ フォルダに移動
```

または `assets/quick-icon-generator.html` から手動で生成

詳細は [ICON_SETUP.md](./ICON_SETUP.md) を参照

#### 2️⃣ ホーム画面に追加

1. Safari で `index.html` を開く
2. 下部の共有ボタン（四角から矢印）をタップ
3. 「ホーム画面に追加」を選択
4. アプリ名を確認して「追加」をタップ

## 📋 ファイル構成

```
ローン計算アプリ/
├── 📄 index.html              ← メインアプリ
├── 📄 manifest.json           ← PWA対応設定
├── 📄 ICON_SETUP.md          ← アイコン設定ガイド
├── 📄 README.md              ← このファイル
├── 🎨 create-icons.html       ← アイコン自動生成
│
├── 📁 css/
│   └── style.css              ← スタイル定義
│
├── 📁 js/
│   ├── app.js                 ← UIロジック
│   ├── calculator.js          ← 計算エンジン
│   └── analyzer.js            ← 分析エンジン
│
└── 📁 assets/
    ├── icon.svg               ← メインアイコン (SVG)
    ├── icon-180.png           ← iPhone用 (180×180)
    ├── icon-152.png           ← iPad用 (152×152)
    ├── icon-167.png           ← iPad Pro用 (167×167)
    ├── icon-192.png           ← PWA用 (192×192)
    ├── quick-icon-generator.html
    └── generate-icons.html
```

## ✨ 機能

### 機能1: ローン計算機 💻

**入力項目:**
- 借入額（円）
- 年利率（%）
- 返済期間（年・月）
- 返済開始日
- 返済方式（元利均等 / 元金均等）

**計算結果:**
- ✅ 毎月の返済額
- ✅ 総返済額
- ✅ 総利息額
- ✅ 完全な返済スケジュール表
- ✅ 指定月の詳細情報

### 機能2: ローン分析機 🔍

**入力項目:**
- 支払い開始日（必須）
- 毎月支払い金額（必須）
- 元借入額 / 現在の残高 / 経過月数（任意）
- 返済方式（自動判定/選択可能）

**分析結果:**
- ✅ 推定金利率
- ✅ 完済予定日
- ✅ 残り返済期間
- ✅ 返済方式の推定

## 🎨 デザイン

- **レスポンシブ対応** - PC, スマートフォン, タブレットに対応
- **ダークモード対応** - グラデーション背景でモダンなUI
- **アニメーション** - スムーズなインタラクション

## 🔧 技術スタック

- **HTML5** - セマンティックマークアップ
- **CSS3** - グリッドレイアウト、グラデーション、アニメーション
- **JavaScript (Vanilla)** - フレームワーク不要
- **PWA対応** - オフライン対応も可能

## 📱 iPhone対応について

### ホーム画面にアプリとして追加可能

- 専用のアイコン表示
- フルスクリーンモード
- ネイティブアプリのような見た目

### 必要な設定

1. ホーム画面用アイコンを生成（`create-icons.html` から）
2. ファイルを `assets/` フォルダに配置
3. iPhoneのSafariでホーム画面に追加

詳細は [ICON_SETUP.md](./ICON_SETUP.md) を参照

## 🧮 計算精度

### 元利均等返済

```
毎月返済額 = 元本 × [r(1+r)^n] / [(1+r)^n - 1]
（r = 月利率 = 年利率/12/100, n = 返済月数）
```

### 元金均等返済

```
毎月元本返済額 = 元本 / 返済月数
毎月利息額 = 残高 × 月利率
毎月返済額 = 毎月元本返済額 + 毎月利息額
```

### 金利逆算

ニュートン法を使用した高精度な数値計算で金利を推定

## 🚀 使用例

### 例1: 住宅ローンの返済額計算

```
借入額: 3,000万円
年利率: 2.5%
返済期間: 35年
返済開始日: 2025年2月1日
返済方式: 元利均等返済

結果:
毎月返済額: 約¥100,000
総返済額: 約¥42,000,000
総利息額: 約¥12,000,000
```

### 例2: 現在のローンから金利を推定

```
支払い開始日: 2023年1月1日
毎月支払い金額: ¥50,000
元借入額: 1,000,000円

結果:
推定金利: 3.5%
完済予定日: 2026年7月
残り期間: 約18ヶ月
```

## ⚙️ システム要件

- **ブラウザ:** Chrome, Firefox, Safari, Edge 最新版
- **JavaScript:** 有効化が必須
- **iPhone:** iOS 11.0 以上
- **インターネット:** 不要（オンライン・オフライン両対応可能）

## 🐛 トラブルシューティング

### 計算がうまくいかない場合

1. 入力値を確認（小数点、単位など）
2. ブラウザをリロード
3. ブラウザキャッシュをクリア

### iPhoneで表示が崩れる場合

1. Safari を終了して再起動
2. デバイスを再起動
3. ブラウザビューの拡大率をリセット（ダブルタップ）

### ホーム画面のアイコンが表示されない

[ICON_SETUP.md](./ICON_SETUP.md) のトラブルシューティングセクションを参照

## 📝 ライセンス

このアプリケーションは個人・商用利用可能です。

## 💡 機能リクエスト

改善要望やバグ報告は、HTMLファイルのコメント部分に記載してください。

## 🔒 セキュリティ

- すべての計算はブラウザ上で実行（サーバーへの送信なし）
- 個人情報は保存されません
- 完全にオフライン動作可能

## 📞 サポート

問題が発生した場合：

1. ブラウザのコンソール (F12) でエラーを確認
2. [ICON_SETUP.md](./ICON_SETUP.md) を参照
3. キャッシュをクリアして再試行

---

**最後に確認:**
- ✅ `index.html` が正常に開く
- ✅ 計算ボタンが機能する
- ✅ レスポンシブデザインが表示される
- ✅ iPhoneのホーム画面にアイコン付きで追加できる

すべて確認できたら、アプリケーションの使用準備が完了です！

---

**バージョン:** 1.0.0
**最終更新:** 2025年2月
**制作:** ローン計算アプリ開発チーム
